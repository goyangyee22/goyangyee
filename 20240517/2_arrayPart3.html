<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Array part3</title>
  </head>
  <body></body>
  <script>
    // 1. forEach() 함수 ⭐⭐⭐
    // 해당 배열의 모든 요소에 대하여 반복적으로 명시된 함수를 실행한다.
    document.write(`<h1>1. forEach() 함수</h1>`);
    const arr = [1, true, "Javascript"];
    function printArr(value, index, array) {
      console.log(`value : ${value}, index : ${index}, array : ${array}`);
    }
    arr.forEach(printArr);
    // console.log(typeof printArr); // ()가 없으면 함수 자체를 의미
    // console.log(typeof printArr()); // ()를 붙이면 함수를 즉시 실행

    // 2. map() 함수 ⭐⭐⭐⭐⭐
    // 해당 배열의 모든 요소에 대하여 반복적으로 명시된 함수를 실행한 후 그 실행 결과를 새로운 배열에 담아 반환한다.
    const arr2 = [3, 4, 5, 6];
    // let tempArr = arr2.forEach(function (v){
    //         tempArr.push(v*2);
    // });

    let modifiedArr = arr2.map(function (element, index, array) {
      return element * 2;
    });
    document.write(`<h1>2. map() 함수</h1>`);
    console.log(arr2);
    console.log(modifiedArr);
    // emptyArr = arr2.map((v) => v*2);

    const users = [
      { firstName: "베컴", lastName: "데이비드" },
      { firstName: "더브라위너", lastName: "케빈" },
      { firstName: "홀란드", lastName: "엘링" },
    ];
    // ["데이비드 베컴", "케빈 더브라위너", "엘링 홀란드"]
    const nameArr = users.map(function (v) {
      return `${v.lastName} ${v.firstName}`;
    });
    console.log(users);
    console.log(nameArr);

    const numberArr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    function multiplyThree(number) {
      return number * 3;
    }

    const newNumberArr = numberArr.map(multiplyThree);
   console.log(numberArr);
    console.log(newNumberArr);

    const doubleArr = [
      [1, 2, 3],
      [4, 5, 6],
      [7, 8, 9],
    ];

    // [6, 15, 24]
    function sumArr(array) {
      let sum = 0;
      for (let i = 0; i < doubleArr.length; i++) {
        sum += array[i];
      }
      return sum;
    }
    const newsumArr = doubleArr.map(sumArr);
    console.log(newsumArr);

    const numArr = [5, 10, 15, 20];
    // [0, 5, 10, 15];
    const tempMin = numArr.map(function (v) {
      return v - 5;
    });
    console.log(tempMin);
    const strArr = ["apple", "banana", "watermelon"];
    // [5, 6, 10]
    const newstrArr = strArr.map(function (v) {
      return v.length;
    });
    console.log(newstrArr);

    const strArr2 = ["hello", "world", "javascript"];
    const newstrArr2 = strArr2.map(function (v) {
      return `${v.toUpperCase()}`;
    });
    console.log(newstrArr2);

    const numArr2 = [10, 20, 30, 40, 50];
    const newnumArr2 = numArr2.map(function (v, i) {
      return `Index ${i}: ${v}`;
    });
    console.log(newnumArr2);

    const users2 = [
      { id: 1, name: "김덕배" },
      { id: 2, name: "최덕배" },
      { id: 3, name: "이덕배" },
    ];
    const newUsers2 = users2.map(function (v) {
      return v.name;
    });
    console.log(newUsers2);

    const users3 = [
      { id: 1, name: "김덕배", contact: { email: "kim@gmail.com" } },
      { id: 2, name: "최덕배", contact: { email: "choi@gmail.com" } },
      { id: 3, name: "이덕배", contact: { email: "lee@gmail.com" } },
    ];
    const newUsers3 = users3.map(function (v) {
      return v.contact.email;
    });
    console.log(newUsers3);

    // [1, 2, 3],
    // [4, 5, 6],
    // [7, 8, 9],
    // 결과 ==> [[2, 4, 6], [8, 10, 12], [14, 16, 18]]
    const newDoubleArr = doubleArr.map(function (v) {
      // const tempArr = [];
      // for(let i = 0; i < v.length; i++){
      //   tempArr.push(v[i]*2);
      // }
      // return tempArr;
      
     return v.map(function(v){
      return v*2;
     })
    });
    console.log(newDoubleArr);

    // 3. filter() 함수 ⭐⭐⭐⭐
    // 배열의 모든 요소에 대하여 반복적으로 명시된 함수를 실행한 후, 그 결과값이 true인 요소들만을 새로운 배열로 반환한다.
    document.write(`<h1>3. filter 함수</h1>`);
    const numberArr2 = [1, 2, 3, 4, 5];
    // [4, 5]만 들어있는 배열 추출
    let result = [];
    // for(let i = 0; i < numberArr2.length; i++){
    //   if(numberArr2[i] > 3){
    //     result.push(numberArr2[i]);
    //   }
    // }
   result = numberArr2.filter(function (v){
    return v > 3;
   })
   document.write(`<h3>numberArr2 : [${numberArr2}]</h3>`);
   document.write(`<h3>result : [${result}]</h3>`);

   const guys = [
    {name : "덕배", money: 500000},
    {name : "베컴", money: 700000},
    {name : "홀란드", money: 600000},
    {name : "포든", money: 400000},
   ];
  // money가 500000보다 더 많이 필요한 사람만을 추출한 배열
   let guysresult = [];
   guysresult = guys.filter(function (v){
    return v.money > 500000;
   });
   console.log(guysresult);
  </script>
</html>
